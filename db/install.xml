<?xml version="1.0" encoding="utf-8" ?>
<XMLDB PATH="local/cpd/db" VERSION="20100128" COMMENT="XMLDB file for Moodle local/cpd"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:noNamespaceSchemaLocation="../../../../lib/xmldb/xmldb.xsd">
    <TABLES>
        <TABLE NAME="cpd" COMMENT="Defines CPD activities">
            <FIELDS>
                <FIELD NAME="id" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="userid" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="objective" TYPE="text" LENGTH="big"
                       NOTNULL="false" SEQUENCE="false" />
                <FIELD NAME="objective_fmt" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="development_need" TYPE="text" LENGTH="big"
                       NOTNULL="false" SEQUENCE="false" />
                <FIELD NAME="development_need_fmt" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="activitytypeid" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="activity" TYPE="text" LENGTH="big"
                       NOTNULL="false" SEQUENCE="false" />
                <FIELD NAME="activity_fmt" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="duedate" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="startdate" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="enddate" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="statusid" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="cpdyearid" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="timetaken" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false" />
            </FIELDS>
            <KEYS>
                <KEY NAME="primary" TYPE="primary" FIELDS="id" />
                <KEY NAME="cpd_user_fk" TYPE="foreign" FIELDS="userid"
                     REFTABLE="user" REFFIELDS="id" />
                <KEY NAME="cpd_activitytype_fk" TYPE="foreign" FIELDS="activitytypeid"
                     REFTABLE="cpd_activity_type" REFFIELDS="id" />
                <KEY NAME="cpd_status_fk" TYPE="foreign" FIELDS="statusid"
                     REFTABLE="cpd_status" REFFIELDS="id" />
                <KEY NAME="cpd_year_fk" TYPE="foreign" FIELDS="cpdyearid"
                     REFTABLE="cpd_year" REFFIELDS="id" />
            </KEYS>
        </TABLE>
        <TABLE NAME="cpd_activity_type" COMMENT="Defines the activity types">
            <FIELDS>
                <FIELD NAME="id" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="name" TYPE="char" LENGTH="255"
                       NOTNULL="true" SEQUENCE="false" />
            </FIELDS>
            <KEYS>
                <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
            </KEYS>
        </TABLE>
        <TABLE NAME="cpd_status" COMMENT="Defines the statuses">
            <FIELDS>
                <FIELD NAME="id" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="name" TYPE="char" LENGTH="255"
                       NOTNULL="true" SEQUENCE="false" />
                <FIELD NAME="display_order" TYPE="int" LENGTH="10"
                       NOTNULL="false" UNSIGNED="true" SEQUENCE="false"
                       DEFAULT="0" />
            </FIELDS>
            <KEYS>
                <KEY NAME="primary" TYPE="primary" FIELDS="id" />
                <KEY NAME="cpd_status_name_unique" TYPE="unique" FIELDS="name" />
            </KEYS>
        </TABLE>
        <TABLE NAME="cpd_year" COMMENT="Defines the periods to view CPD data">
            <FIELDS>
                <FIELD NAME="id" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="true" />
                <FIELD NAME="startdate" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="false" />
                <FIELD NAME="enddate" TYPE="int" LENGTH="10"
                       NOTNULL="true" UNSIGNED="true" SEQUENCE="false" />
            </FIELDS>
            <KEYS>
                <KEY NAME="primary" TYPE="primary" FIELDS="id"/>
            </KEYS>
        </TABLE>
    </TABLES>
    <STATEMENTS>
        <STATEMENT NAME="insert cpd_status" TYPE="insert" TABLE="cpd_status"
                   COMMENT="Initial insert of default statuses on table cpd_status">
            <SENTENCES>
                <SENTENCE TEXT="(name, display_order) VALUES ('Started', 2)" />
                <SENTENCE TEXT="(name, display_order) VALUES ('Objective Met', 3)" />
                <SENTENCE TEXT="(name, display_order) VALUES ('Not Started', 1)" />
            </SENTENCES>
        </STATEMENT>
        <STATEMENT NAME="insert cpd_year" TYPE="insert" TABLE="cpd_year"
                   COMMENT="Insert dumy CPD year (2010-01-01 to 2010-12-31)">
            <SENTENCES>
                <SENTENCE TEXT="(startdate, enddate) VALUES (1262304000, 1293839999)" />
                <SENTENCE TEXT="(startdate, enddate) VALUES (1293840000, 1325375999)" />
                <SENTENCE TEXT="(startdate, enddate) VALUES (1325376000, 1356998399)" />
            </SENTENCES>
        </STATEMENT>
        <STATEMENT NAME="insert cpd_activity_type" TYPE="insert" TABLE="cpd_activity_type"
                   COMMENT="Initial insert of records on table cpd_activity_type">
            <SENTENCES>
                <SENTENCE TEXT="(name) VALUES ('Attendence in college/university')" />
                <SENTENCE TEXT="(name) VALUES ('Computer based training')" />
                <SENTENCE TEXT="(name) VALUES ('Conferences')" />
                <SENTENCE TEXT="(name) VALUES ('Discussions')" />
                <SENTENCE TEXT="(name) VALUES ('Examination')" />
                <SENTENCE TEXT="(name) VALUES ('Individual informal study')" />
                <SENTENCE TEXT="(name) VALUES ('Mentoring')" />
                <SENTENCE TEXT="(name) VALUES ('On-the-job training')" />
                <SENTENCE TEXT="(name) VALUES ('Professional Institute')" />
                <SENTENCE TEXT="(name) VALUES ('Reading')" />
                <SENTENCE TEXT="(name) VALUES ('Self-managed learning')" />
                <SENTENCE TEXT="(name) VALUES ('Seminars')" />
                <SENTENCE TEXT="(name) VALUES ('Structured discussions')" />
                <SENTENCE TEXT="(name) VALUES ('Training course')" />
            </SENTENCES>
        </STATEMENT>
    </STATEMENTS>
</XMLDB>
